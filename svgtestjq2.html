<!DOCTYPE html>
<html>
    <head>
        <title>SVG Illustrator Test</title> 
    </head>
    <body>

        <object id="diagram"
        data="assets/seseme/diagram.svg" 
        type="image/svg+xml" 
         width="1500px" height="500px"></object>

    <script type = "text/javascript" src = "js/jquery-2.1.0.min.js"></script>
    <script>
        $(document).ready(function(){
        
        //can we duplicate this functionality with JQ



        var a = document.getElementById("diagram");

        //it's important to add an load event listener to the object, as it will load the svg doc asynchronously
        /*
        a.addEventListener("load",function(){
            var svgDoc = a.contentDocument; //get the inner DOM of alpha.svg
            var pedestal = svgDoc.getElementById("Pedestal"); //get the inner element by id
            pedestal.addEventListener("mousedown",function(){alert('hello world!')},false);    
            //add behaviour
             },false);
        */

        $('#diagram').ready(function(){
            alert('svg ready');
            var b = a.contentDocument;
            var seseme = b.getElementById("seseme"); 
            var building = b.getElementById("building");
            var brains = b.getElementById("brains");
            var phone = b.getElementById("phone");
            var social = b.getElementById("social");
            var elements = [seseme, building, brains, phone, social];

            elements.forEach(function(element, i, array){
                $(element).click(function(){ //element clicked....
                var anim = element.getElementsByClassName('big'); // populates array with all class big anims in G
                for(var i =0; i< anim.length; i++){ //for each class big anim, runs it (archaic with dependencies)
                    anim[i].beginElement();
                } // the other items in elements[], depending on index > or < element[i], get small_L or small_R activated
                    
                        if(array.indexOf(element)!=i){
                            var anim = array[i].getElementsByClassName('small');
                            for(var i =0; i< anim.length; i++){ 
                                anim[i].beginElement();
                        }
                    }
                )}
            )})
            /*
            $(seseme).click(function(){
                var anim = seseme.getElementsByClassName("big");
                for (var i = 0; i < anim.length; i++) {
                    anim[i].beginElement();
                };
            })
     
            $(brains).click(function(){
                var anim = brains.getElementsByClassName("big");
                for (var i = 0; i < anim.length; i++) {
                    anim[i].beginElement();
                };
            })
            $(building).click(function(){
                var anim = building.getElementsByClassName("big");
                for (var i = 0; i < anim.length; i++) {
                    anim[i].beginElement();
                };
            })
    
            $(seseme, building, brains, phone, social).click(function(){
                var anim = this.getElementsByClassName("big");
                for (var i = 0; i < anim.length; i++) {
                    anim[i].beginElement();
                }
            })*/


        })
        })

    </script>

    </body>
</html>

